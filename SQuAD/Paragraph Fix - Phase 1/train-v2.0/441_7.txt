A source of definition difficulty in relativity arises from two definitions of mass in common use, one of which is formally equivalent to total energy (and is thus observer dependent), and the other of which is referred to as rest mass or invariant mass and is independent of the observer. Only "rest mass" is loosely equated with matter (since it can be weighed). Invariant mass is usually applied in physics to unbound systems of particles. 
However, energies which contribute to the "invariant mass" may be weighed also in special circumstances, such as when a system that has invariant mass is confined and has no net momentum (as in the box example above). Thus, a photon with no mass may (confusingly) still add mass to a system in which it is trapped. The same is true of the kinetic energy of particles, which by definition is not part of their rest mass, but which does add rest mass to systems in which these particles reside (an example is the mass added by the motion of gas molecules of a bottle of gas, or by the thermal energy of any hot object).
