After the setback at Aspern-Essling, Napoleon took more than six weeks in planning and preparing for contingencies before he made another attempt at crossing the Danube. From 30 June to the early days of July, the French recrossed the Danube in strength, with more than 180,000 troops marching across the Marchfeld towards the Austrians. Charles received the French with 150,000 of his own men. In the ensuing Battle of Wagram, which also lasted two days, Napoleon commanded his forces in what was the largest battle of his career up until then. Neither side made much progress on 5 July, but the 6th produced a definitive outcome. Both sides launched major assaults on their flanks. 
Austrian attacks against the French left wing looked dangerous initially, but they were all beaten back. Meanwhile, a steady French attack against the Austrian left wing eventually compromised the entire position for Charles. Napoleon finished off the battle with a concentrated central thrust that punctured a hole in the Austrian army and forced Charles to retreat. Austrian losses were very heavy, reaching well over 40,000 casualties. The French were too exhausted to pursue the Austrians immediately, but Napoleon eventually caught up with Charles at Znaim and the latter signed an armistice on 12 July.
